<%= form_for material do |f| %>
  <div class="fields">
    <%= f.label :name %>
    <%= f.text_field :name %>
  </div>
  <div class="fields">
    <%= f.label :heat_number %>
    <%= f.text_field :heat_number %>
  </div>
  <div class="fields">
    <%= f.label :n_number %>
    <%= f.text_field :n_number %>
  </div>
  <div class="fields">
    <%= f.label :active %>
    <%= f.check_box :active %>
  </div>

  <h3>Related Materials</h3>
  <div class="related-materials">
    <div class="fields">
      <input type="text" id="material" />
    </div>
    <div class="fields">
      <ul id="related-materials-list">
        <li>Material 1</li>
      </ul>
      <div id="log"></div>
    </div>
  </div>

  <div class="buttons">
    <%= f.submit material.new_record? ? "Create" : "Update" %> <%= link_to 'Cancel', materials_url %>
  </div>
<% end %>

<script>
$(function() {
		function log( message ) {
			$( "<li/>" ).text( message ).appendTo( "#related-materials-list" );
			$( "#related-materials-list" ).scrollTop( 0 );
		}

		$( "#material" ).autocomplete({
			source: ["Test", "Blah", "hello", "world"],
			minLength: 2,
			select: function( event, ui ) {
				log( ui.item ?
					"Selected: " + ui.item.value + " aka " + ui.item.id :
					"Nothing selected, input was " + this.value );
			}
		});
	});
</script>